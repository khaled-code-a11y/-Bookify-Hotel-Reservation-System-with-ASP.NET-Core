<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Payment - AmunraHotel</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body class="payment-body">
    <div class="payment-container">
        <a href="my-bookings.html" class="payment-back-btn">← Back</a>

        <div class="payment-test-mode">TEST MODE</div>

        <div class="payment-summary">
            <h1>Urbanza Suites</h1>
            <p class="payment-price">$399.00</p>
        </div>

        <form class="payment-form" id="paymentForm">
            <h2>Contact Information</h2>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" placeholder="Enter your email" required>
            </div>

            <h2>Payment method</h2>

            <div class="payment-methods-group">
                <label class="payment-option card-option">
                    <input type="radio" name="payment_method" value="card" checked>
                    <span class="option-label">Card</span>
                    <div class="card-logos">
                        <img src="img/visa.png" alt="Visa">
                        <img src="img/mastercard.png" alt="Mastercard">
                        
                    </div>
                </label>

                <label class="payment-option cash-app-option">
                    <input type="radio" name="payment_method" value="cash_app">
                    <span class="option-label"><i class="fas fa-dollar-sign"></i> Cash App Pay</span>
                </label>
            </div>

            <label class="security-save">
                <input type="checkbox" name="save_info" id="saveInfoCheckbox">
                <div>
                    <p>Securely save my information for 1-click checkout</p>
                    <small>Pay faster on this site and everywhere Link is accepted.</small>
                </div>
            </label>

            <p id="validationMessage" class="validation-error hidden">
                Please agree to securely save your information to proceed.
            </p>

            <button type="submit" class="btn-pay" id="payButton">Pay</button>

            <div class="powered-by">
                <small>Powered by Stripe</small>
                <div class="legal-links">
                    <a href="#">Terms</a>
                    <a href="#">Privacy</a>
                </div>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // بدلاً من الاستماع لحدث 'change' على الـ checkbox، سنستمع لحدث 'submit' على الـ form
            const paymentForm = document.getElementById('paymentForm'); // تحتاج لإضافة ID="paymentForm" لوسم <form>
            const checkbox = document.getElementById('saveInfoCheckbox');
            const validationMessage = document.getElementById('validationMessage');

            // يجب إضافة ID="paymentForm" لوسم <form> في payment.html
            if (!paymentForm) {
                console.error("Error: Please add id='paymentForm' to the form tag in payment.html");
                return;
            }

            paymentForm.addEventListener('submit', function (e) {
                // التحقق مما إذا كان الـ Checkbox غير معلم
                if (!checkbox.checked) {
                    e.preventDefault(); // منع إرسال النموذج (الذي هو عملية الدفع)

                    // إظهار رسالة الخطأ
                    validationMessage.classList.remove('hidden');

                    // (اختياري) إخفاء الرسالة بعد 4 ثوانٍ
                    setTimeout(() => {
                        validationMessage.classList.add('hidden');
                    }, 4000);

                } else {
                    // إذا كان معلمًا، يمكن إرسال النموذج أو الانتقال لصفحة تأكيد الدفع
                    validationMessage.classList.add('hidden');
                    // هنا يمكنك إضافة منطق معالجة الدفع الفعلي (مثلاً: alert("Processing payment..."))
                }
            });
        });
    </script>
</body>

</html>